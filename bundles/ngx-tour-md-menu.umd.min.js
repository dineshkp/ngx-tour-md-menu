!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("ngx-tour-core"),require("@angular/material/menu"),require("@angular/common"),require("@angular/material/button"),require("@angular/material/card"),require("@angular/material/icon"),require("withinviewport"),require("rxjs/operators")):"function"==typeof define&&define.amd?define("ngx-tour-md-menu",["exports","@angular/core","ngx-tour-core","@angular/material/menu","@angular/common","@angular/material/button","@angular/material/card","@angular/material/icon","withinviewport","rxjs/operators"],t):t((e=e||self)["ngx-tour-md-menu"]={},e.ng.core,e.ngxTourCore,e.ng.material.menu,e.ng.common,e.ng.material.button,e.ng.material.card,e.ng.material.icon,e.withinviewport,e.rxjs.operators)}(this,(function(e,t,n,r,o,i,a,s,u,c){"use strict";u=u&&Object.prototype.hasOwnProperty.call(u,"default")?u.default:u;
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */
var p=function(e,t){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function l(e,t){function n(){this.constructor=e}p(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;function m(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}Object.create;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return l(t,e),t}(n.TourService);d.decorators=[{type:t.Injectable}];var h=function(){this.menu=new r.MatMenu(void 0,void 0,{xPosition:"after",yPosition:"below",overlapTrigger:!0,backdropClass:""})};h.decorators=[{type:t.Component,args:[{selector:"tourAnchorOpener",template:'\n    <span [matMenuTriggerFor]="menu" #trigger="matMenuTrigger"></span>\n  ',styles:["\n      :host {\n        display: none;\n      }\n    "]}]}],h.propDecorators={menu:[{type:t.Input}],trigger:[{type:t.ViewChild,args:[r.MatMenuTrigger]}]};var g=function(){};g.decorators=[{type:t.Injectable}];var f=function(){function e(e){this.renderer=e.createRenderer(null,null)}return e.prototype.show=function(e){var t=e.nativeElement.getBoundingClientRect();this.backdropElement||(this.backdropElement=this.renderer.createElement("div"),this.renderer.addClass(this.backdropElement,"ngx-tour_backdrop"),this.renderer.appendChild(document.body,this.backdropElement)),this.setStyles(t)},e.prototype.close=function(){this.backdropElement&&(this.renderer.removeChild(document.body,this.backdropElement),this.backdropElement=null)},e.prototype.setStyles=function(e){var t,n,r={position:"fixed",width:e.width+"px",height:e.height+"px",top:e.top+"px",left:e.left+"px","box-shadow":"0 0 0 9999px rgba(0, 0, 0, 0.7)","z-index":"100"};try{for(var o=m(Object.keys(r)),i=o.next();!i.done;i=o.next()){var a=i.value;this.renderer.setStyle(this.backdropElement,a,r[a])}}catch(e){t={error:e}}finally{try{i&&!i.done&&(n=o.return)&&n.call(o)}finally{if(t)throw t.error}}},e}();f.decorators=[{type:t.Injectable}],f.ctorParameters=function(){return[{type:t.RendererFactory2}]};var y=function(){function e(e,t,n,r,o,i,a){this.componentFactoryResolver=e,this.injector=t,this.viewContainer=n,this.element=r,this.tourService=o,this.tourStepTemplate=i,this.tourBackdrop=a,this.opener=this.viewContainer.createComponent(this.componentFactoryResolver.resolveComponentFactory(h)).instance}return e.prototype.ngOnInit=function(){this.tourService.register(this.tourAnchor,this)},e.prototype.ngOnDestroy=function(){this.tourService.unregister(this.tourAnchor)},e.prototype.showTourStep=function(e){var t=this;this.isActive=!0,this.tourStepTemplate.templateComponent.step=e,e.preventScrolling||(u(this.element.nativeElement,{sides:"bottom"})?u(this.element.nativeElement,{sides:"left top right"})||this.element.nativeElement.scrollIntoView(!0):this.element.nativeElement.scrollIntoView(!1)),this.opener.trigger._element=this.element,this.opener.trigger.menu=this.tourStepTemplate.templateComponent.tourStep,this.opener.trigger.ngAfterContentInit(),this.opener.trigger.openMenu(),e.enableBackdrop?this.tourBackdrop.show(this.element):this.tourBackdrop.close(),e.prevBtnTitle=e.prevBtnTitle||"Prev",e.nextBtnTitle=e.nextBtnTitle||"Next",e.endBtnTitle=e.endBtnTitle||"End",this.menuCloseSubscription&&this.menuCloseSubscription.unsubscribe(),this.menuCloseSubscription=this.opener.trigger.menuClosed.pipe(c.first()).subscribe((function(){t.tourService.getStatus()!==n.TourState.OFF&&t.tourService.end(),t.tourBackdrop.close()}))},e.prototype.hideTourStep=function(){this.isActive=!1,this.menuCloseSubscription&&this.menuCloseSubscription.unsubscribe(),this.opener.trigger.closeMenu(),this.tourService.getStatus()===n.TourState.OFF&&this.tourBackdrop.close()},e}();y.decorators=[{type:t.Directive,args:[{selector:"[tourAnchor]"}]}],y.ctorParameters=function(){return[{type:t.ComponentFactoryResolver},{type:t.Injector},{type:t.ViewContainerRef},{type:t.ElementRef},{type:d},{type:g},{type:f}]},y.propDecorators={tourAnchor:[{type:t.Input}],isActive:[{type:t.HostBinding,args:["class.touranchor--is-active"]}]};var v=function(e){function t(t,n){var r=e.call(this,n)||this;return r.tourStepTemplateService=t,r.tourService=n,r.step={},r}return l(t,e),t.prototype.ngAfterViewInit=function(){this.tourStepTemplateService.templateComponent=this},t}(n.TourHotkeyListenerComponent);v.decorators=[{type:t.Component,args:[{selector:"tour-step-template",template:'\n    <mat-menu [overlapTrigger]="false" class="tour-step">\n      <ng-container\n        *ngTemplateOutlet="\n          stepTemplate || stepTemplateContent || defaultTemplate;\n          context: { step: step }\n        "\n      ></ng-container>\n    </mat-menu>\n    <ng-template #defaultTemplate let-step="step">\n      <mat-card (click)="$event.stopPropagation()">\n        <mat-card-title>\n          {{ step?.title }}\n        </mat-card-title>\n        <mat-card-content>\n          {{ step?.content }}\n        </mat-card-content>\n        <mat-card-actions>\n          <button\n            mat-icon-button\n            [disabled]="!tourService.hasPrev(step)"\n            (click)="tourService.prev()"\n          >\n            <mat-icon>chevron_left</mat-icon>\n          </button>\n          <button\n            mat-icon-button\n            [disabled]="!tourService.hasNext(step)"\n            (click)="tourService.next()"\n          >\n            <mat-icon>chevron_right</mat-icon>\n          </button>\n          <button mat-button (click)="tourService.end()">\n            {{ step?.endBtnTitle }}\n          </button>\n        </mat-card-actions>\n      </mat-card>\n    </ng-template>\n  ',styles:["\n      ::ng-deep .tour-step .mat-menu-content {\n        padding: 0 !important;\n      }\n    "]}]}],v.ctorParameters=function(){return[{type:g},{type:d}]},v.propDecorators={tourStep:[{type:t.ViewChild,args:[r.MatMenu]}],stepTemplate:[{type:t.Input}],stepTemplateContent:[{type:t.ContentChild,args:[t.TemplateRef]}]};var b=function(){function e(){}return e.forRoot=function(){return{ngModule:e,providers:[g,f,n.TourService,d]}},e}();b.decorators=[{type:t.NgModule,args:[{declarations:[y,v,h],entryComponents:[h],exports:[y,v,n.TourModule],imports:[o.CommonModule,n.TourModule,r.MatMenuModule,a.MatCardModule,i.MatButtonModule,s.MatIconModule]}]}],e.TourAnchorMatMenuDirective=y,e.TourMatMenuModule=b,e.TourService=d,e.TourStepTemplateComponent=v,e.ɵa=d,e.ɵb=g,e.ɵc=f,e.ɵd=h,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-tour-md-menu.umd.min.js.map